schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 0557154ea67f49a42670a2a01fd92d84
      size: 854
    - path: src/stage_01_load.py
      md5: 36d08ede05b504306c7db283048bad33
      size: 1187
    - path: src/utils/all_utils.py
      md5: 87e5750f9887a6e3be2eb5cfc32a2f68
      size: 6765
    outs:
    - path: data
      md5: fe1560e2fb3c71e1e61be2f70e9df623.dir
      size: 68168597
      nfiles: 2998
  split_data:
    cmd: python src/stage_02.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 0557154ea67f49a42670a2a01fd92d84
      size: 854
    - path: data
      md5: fe1560e2fb3c71e1e61be2f70e9df623.dir
      size: 68168597
      nfiles: 2998
    - path: src/stage_02.py
      md5: cba30ca8befc6d17362b6af9ec6ab7b6
      size: 1692
    - path: src/utils/all_utils.py
      md5: 87e5750f9887a6e3be2eb5cfc32a2f68
      size: 6765
    outs:
    - path: test
      md5: fafdc6c74f6fe11d3f84338f58731d6a.dir
      size: 279830
      nfiles: 10
    - path: train_data
      md5: 398d15a89dcdbea33f87bced7d79145e.dir
      size: 56849107
      nfiles: 2387
    - path: val_data
      md5: 79accb90e1d6e47207fd97311a85fbca.dir
      size: 11000964
      nfiles: 598
  preprocess:
    cmd: python src/stage_03.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 0557154ea67f49a42670a2a01fd92d84
      size: 854
    - path: src/stage_03.py
      md5: 1fe2a62be0d70d48cd9a5902bb211f4d
      size: 2238
    - path: src/utils/all_utils.py
      md5: 87e5750f9887a6e3be2eb5cfc32a2f68
      size: 6765
    - path: test
      md5: fafdc6c74f6fe11d3f84338f58731d6a.dir
      size: 279830
      nfiles: 10
    - path: train_data
      md5: 398d15a89dcdbea33f87bced7d79145e.dir
      size: 56849107
      nfiles: 2387
    - path: val_data
      md5: 79accb90e1d6e47207fd97311a85fbca.dir
      size: 11000964
      nfiles: 598
    outs:
    - path: test_crop
      md5: 27a5f1307c13d8fb989bb435df376e76.dir
      size: 249179
      nfiles: 10
    - path: val_crop
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  prepare_model:
    cmd: python src/stage_04.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: 0557154ea67f49a42670a2a01fd92d84
      size: 854
    - path: src/stage_04.py
      md5: 4ad3a70e0061f5c8f3a5e7766b657380
      size: 2010
    - path: src/utils/all_utils.py
      md5: 87e5750f9887a6e3be2eb5cfc32a2f68
      size: 6765
    - path: src/utils/model.py
      md5: 7ddcf1d4ed83f85c73c42061c4429c67
      size: 2139
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/update_vgg16.h5
      md5: 9e12cd0dc7d0b26a546a8d50c538a124
      size: 59134104
    - path: artifacts/base_model/vgg16_base_model.h5
      md5: 28e7400d1ac912df2b52e7f50b37656d
      size: 58920408
